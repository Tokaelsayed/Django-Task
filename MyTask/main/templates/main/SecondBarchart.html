{% extends 'main/base.html' %}

{% block content %}


<div style="width: 1000px; height: 800px;">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>
window.onload = function() {
        var data = JSON.parse("{{data|escapejs}}");
        var config = {
            type: 'bar',
            data: {
                datasets: [{
                data: data.data,
                backgroundColor: 'pink',
                hoverBackgroundColor: 'black',
                label: 'affiliate provider'
                }],
                labels: data.labels
            },
            options: {
                responsive: true,
                legend: {
                position: 'top',
 
              },
              scales: {
              xAxes: [{
              barPercentage: 0.4
                  }]
               },
              
              title: {
                display: true,
                text: 'affiliate channel provider precentage'
              }
            },
          
            
        };
        console.log(data.data)
        console.log(data.labels)
        var ctx = document.getElementById('population-chart').getContext('2d');
        window.mybar = new Chart(ctx, config);
        window.resizeTo(200, 200);
    };
</script>
<div >
    <canvas id="population-chart"></canvas>
    <button type="button" class="btn btn-secondary btn-lg"
    style="background-color: cadetblue;margin-top: 100px;margin-left: 50px;"onclick="location.href = '/thirdbarchart/'">Next Graph</button>
</div>
</div>
{% endblock %}